<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>TERMINUS-7 // AI ASSISTANT</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=VT323&display=swap');

  :root {
    --green: #00ff41;
    --green-dim: #00b32c;
    --green-glow: rgba(0,255,65,0.15);
    --bg: #000000;
    --scanline: rgba(0,255,65,0.03);
  }

  * { margin:0; padding:0; box-sizing:border-box; }

  body {
    background: var(--bg);
    color: var(--green);
    font-family: 'Share Tech Mono', monospace;
    min-height: 100vh;
    overflow: hidden;
    position: relative;
    user-select: none;
  }

  /* CRT scanlines */
  body::before {
    content:'';
    position:fixed; inset:0;
    background: repeating-linear-gradient(0deg, transparent, transparent 2px, var(--scanline) 2px, var(--scanline) 4px);
    pointer-events:none; z-index:100;
    animation: flicker 8s infinite;
  }
  /* vignette */
  body::after {
    content:'';
    position:fixed; inset:0;
    background: radial-gradient(ellipse at center, transparent 60%, rgba(0,0,0,0.88) 100%);
    pointer-events:none; z-index:101;
  }

  @keyframes flicker {
    0%,95%,100%{opacity:1} 96%{opacity:.9} 97%{opacity:1} 98%{opacity:.93}
  }

  .container {
    max-width: 700px;
    margin: 0 auto;
    height: 100vh;
    display: flex;
    flex-direction: column;
    padding: 12px 14px;
    position: relative;
    z-index: 10;
  }

  /* HEADER */
  .header {
    text-align:center;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--green-dim);
    margin-bottom: 8px;
    position: relative;
  }
  .header::before { content:'['; position:absolute; left:0; top:50%; transform:translateY(-50%); color:var(--green-dim); }
  .header::after  { content:']'; position:absolute; right:0; top:50%; transform:translateY(-50%); color:var(--green-dim); }

  .title {
    font-family:'VT323', monospace;
    font-size: clamp(26px, 6vw, 40px);
    letter-spacing: 8px;
    text-shadow: 0 0 10px var(--green), 0 0 25px var(--green), 0 0 50px var(--green);
    animation: titleGlow 3s ease-in-out infinite;
  }
  @keyframes titleGlow {
    0%,100%{text-shadow:0 0 10px var(--green),0 0 25px var(--green),0 0 50px var(--green)}
    50%{text-shadow:0 0 5px var(--green),0 0 12px var(--green)}
  }

  .subtitle {
    font-size: 9px; color:var(--green-dim); letter-spacing:4px; margin-top:2px;
  }

  /* STATUS BAR */
  .status-bar {
    display:flex; justify-content:space-between; align-items:center;
    font-size: 10px; color:var(--green-dim); letter-spacing:1px;
    margin-bottom: 8px;
  }
  .dot {
    width:6px; height:6px; border-radius:50%;
    display:inline-block; margin-right:4px;
    background:var(--green); box-shadow:0 0 5px var(--green);
    animation: blink 1.5s infinite;
  }
  .dot.red { background:#ff3232; box-shadow:0 0 5px #ff3232; }
  .dot.yellow { background:#ffcc00; box-shadow:0 0 5px #ffcc00; }
  @keyframes blink { 0%,100%{opacity:1} 50%{opacity:.3} }

  /* CHAT */
  .chat-area {
    flex:1; overflow-y:auto; overflow-x:hidden;
    margin-bottom:8px; padding-right:4px;
    scrollbar-width:thin; scrollbar-color: var(--green-dim) transparent;
  }
  .chat-area::-webkit-scrollbar { width:3px; }
  .chat-area::-webkit-scrollbar-thumb { background:var(--green-dim); }

  .msg { margin-bottom:12px; animation: fadeUp .25s ease; font-size: clamp(12px,3vw,14px); line-height:1.55; }
  @keyframes fadeUp { from{opacity:0;transform:translateY(4px)} }
  .msg-label { font-size:9px; letter-spacing:3px; color:var(--green-dim); margin-bottom:2px; }
  .msg-user .msg-label,.msg-user .msg-text { color:#00ccff; text-shadow:0 0 6px rgba(0,200,255,.4); }
  .msg-ai .msg-text { color:var(--green); text-shadow:0 0 5px rgba(0,255,65,.3); }
  .msg-system .msg-text { color:var(--green-dim); font-size:11px; font-style:italic; }

  /* LISTENING INDICATOR */
  .listen-row {
    display:flex; align-items:center; gap:6px;
    font-size:10px; color:var(--green-dim);
    min-height:16px; margin-bottom:6px;
  }
  .mic-bars { display:flex; align-items:center; gap:2px; height:14px; }
  .mic-bar { width:3px; background:var(--green); border-radius:1px; box-shadow:0 0 3px var(--green); }
  .mic-bar:nth-child(1){animation:mb1 .6s infinite}
  .mic-bar:nth-child(2){animation:mb2 .5s infinite .1s}
  .mic-bar:nth-child(3){animation:mb3 .7s infinite .05s}
  .mic-bar:nth-child(4){animation:mb4 .55s infinite .15s}
  .mic-bar:nth-child(5){animation:mb5 .65s infinite .08s}
  @keyframes mb1{0%,100%{height:3px}50%{height:12px}}
  @keyframes mb2{0%,100%{height:6px}50%{height:10px}}
  @keyframes mb3{0%,100%{height:2px}50%{height:14px}}
  @keyframes mb4{0%,100%{height:8px}50%{height:5px}}
  @keyframes mb5{0%,100%{height:4px}50%{height:11px}}
  .mic-bars.hidden{display:none}

  /* WAVE VISUALIZER */
  .vis-wrap {
    text-align:center; margin-bottom:8px;
  }
  .vis-label { font-size:9px; letter-spacing:3px; color:var(--green-dim); margin-bottom:4px; }
  #waveCanvas {
    display:block; margin:0 auto;
    width:100%; max-width:560px; height:64px;
    filter: drop-shadow(0 0 6px var(--green));
  }

  /* CONTROLS */
  .controls {
    display:grid; grid-template-columns:1fr auto; gap:8px; margin-bottom:8px;
  }
  .input-wrap {
    border:1px solid var(--green-dim); background:rgba(0,255,65,.03);
    padding:9px 12px; display:flex; align-items:center; gap:6px;
    transition: border-color .2s, box-shadow .2s;
  }
  .input-wrap:focus-within { border-color:var(--green); box-shadow:0 0 10px var(--green-glow); }
  .prompt-sym { color:var(--green); font-size:13px; flex-shrink:0; }
  #textInput {
    background:transparent; border:none; outline:none;
    color:var(--green); font-family:'Share Tech Mono',monospace;
    font-size:13px; flex:1; caret-color:var(--green);
  }
  #textInput::placeholder{color:var(--green-dim); opacity:.6}

  .btn {
    font-family:'VT323',monospace; font-size:18px; letter-spacing:2px;
    border:1px solid var(--green-dim); background:transparent; color:var(--green);
    padding:8px 14px; cursor:pointer; transition:all .15s; white-space:nowrap;
  }
  .btn:hover { background:var(--green-glow); border-color:var(--green); box-shadow:0 0 10px var(--green-glow); }
  .btn:active { transform:scale(.97); }
  .btn.active {
    background:rgba(0,255,65,.12); border-color:var(--green);
    box-shadow:0 0 14px var(--green-glow), inset 0 0 8px rgba(0,255,65,.1);
    animation: pulseBorder 1.5s infinite;
  }
  @keyframes pulseBorder {
    0%,100%{box-shadow:0 0 14px var(--green-glow), inset 0 0 8px rgba(0,255,65,.1)}
    50%{box-shadow:0 0 24px rgba(0,255,65,.5), inset 0 0 16px rgba(0,255,65,.2)}
  }

  /* BOTTOM ROW */
  .bottom-row { display:flex; gap:6px; flex-wrap:wrap; }

  .styled-select-wrap {
    position:relative; border:1px solid var(--green-dim); background:rgba(0,255,65,.02);
    flex:1; min-width:120px;
  }
  .styled-select-wrap::after {
    content:'â–¼'; position:absolute; right:8px; top:50%; transform:translateY(-50%);
    color:var(--green-dim); font-size:9px; pointer-events:none;
  }
  .styled-select-wrap select {
    width:100%; background:transparent; border:none; outline:none;
    color:var(--green); font-family:'Share Tech Mono',monospace;
    font-size:10px; padding:8px 24px 8px 10px; cursor:pointer; appearance:none;
    letter-spacing:.5px;
  }
  .styled-select-wrap select option { background:#001800; color:var(--green); }

  .api-wrap {
    border:1px solid var(--green-dim); background:rgba(0,255,65,.02);
    padding:8px 10px; display:flex; align-items:center; gap:6px;
    flex:1; min-width:160px;
    transition: border-color .2s;
  }
  .api-wrap:focus-within { border-color:var(--green); }
  .key-lbl { font-size:9px; color:var(--green-dim); letter-spacing:2px; flex-shrink:0; }
  #apiKeyInput {
    background:transparent; border:none; outline:none;
    color:var(--green-dim); font-family:'Share Tech Mono',monospace;
    font-size:10px; flex:1; caret-color:var(--green);
    width:100%;
  }
  #apiKeyInput::placeholder { color:rgba(0,100,30,.8); }

  /* BOOT OVERLAY */
  .boot-overlay {
    position:fixed; inset:0; background:#000; z-index:300;
    display:flex; flex-direction:column; justify-content:center;
    align-items:flex-start; padding:clamp(20px,5vw,60px);
    font-family:'Share Tech Mono',monospace; color:var(--green);
    font-size:clamp(11px,2.5vw,14px); overflow:hidden;
  }
  .boot-overlay.gone { display:none; }
  .boot-line { opacity:0; animation:show .05s forwards; margin-bottom:4px; text-shadow:0 0 5px var(--green); }
  @keyframes show { to{opacity:1} }
</style>
</head>
<body>

<div class="boot-overlay" id="bootOverlay"></div>

<div class="container">
  <div class="header">
    <div class="title">TERMINUS&#8209;7</div>
    <div class="subtitle">GROQ NEURAL INTERFACE &nbsp;::&nbsp; v7.4.1</div>
  </div>

  <div class="status-bar">
    <span><span class="dot red" id="connDot"></span><span id="connStatus">OFFLINE</span></span>
    <span id="clock">--:--:--</span>
    <span id="micStatus">MIC: OFF</span>
  </div>

  <div class="chat-area" id="chatArea"></div>

  <div class="listen-row">
    <div class="mic-bars hidden" id="micBars">
      <div class="mic-bar"></div><div class="mic-bar"></div>
      <div class="mic-bar"></div><div class="mic-bar"></div>
      <div class="mic-bar"></div>
    </div>
    <span id="listenLabel"></span>
  </div>

  <div class="vis-wrap">
    <div class="vis-label">// AUDIO OUTPUT WAVE //</div>
    <canvas id="waveCanvas"></canvas>
  </div>

  <div class="controls">
    <div class="input-wrap">
      <span class="prompt-sym">&gt;_</span>
      <input type="text" id="textInput" placeholder="ENTER QUERY..." autocomplete="off" spellcheck="false">
    </div>
    <button class="btn" onclick="sendText()">SEND</button>
  </div>

  <div class="bottom-row">
    <!-- API key -->
    <div class="api-wrap">
      <span class="key-lbl">GROQ:</span>
      <input type="password" id="apiKeyInput" placeholder="gsk_..." autocomplete="off" spellcheck="false">
    </div>

    <!-- Model -->
    <div class="styled-select-wrap">
      <select id="modelSelect">
        <option value="llama-3.3-70b-versatile">LLAMA-3.3-70B</option>
        <option value="llama-3.1-8b-instant">LLAMA-3.1-8B</option>
        <option value="mixtral-8x7b-32768">MIXTRAL-8X7B</option>
        <option value="gemma2-9b-it">GEMMA2-9B</option>
      </select>
    </div>

    <!-- Voice -->
    <div class="styled-select-wrap">
      <select id="voiceSelect"><option>LOADING...</option></select>
    </div>

    <!-- Listen toggle -->
    <button class="btn" id="listenBtn" onclick="toggleListen()">ðŸŽ™ LISTEN: OFF</button>
  </div>
</div>

<script>
// â”€â”€ BOOT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const bootLines = [
  'TERMINUS-7 BIOS v7.4.1',
  'Copyright (C) 2025 GROQ SYSTEMS INC.',
  '',
  'Initializing neural processor.............. OK',
  'Loading language model interface........... OK',
  'Calibrating voice synthesis engine......... OK',
  'Mounting audio subsystem................... OK',
  'Starting speech recognition daemon......... OK',
  '',
  'ALL SYSTEMS NOMINAL.',
  'Launching TERMINUS-7...',
];

const bootEl = document.getElementById('bootOverlay');

(async () => {
  for (let i = 0; i < bootLines.length; i++) {
    await delay(i === 0 ? 80 : 110);
    const d = document.createElement('div');
    d.className = 'boot-line';
    d.textContent = bootLines[i] || '\u00a0';
    bootEl.appendChild(d);
  }
  await delay(500);
  bootEl.classList.add('gone');
  addMsg('system','TERMINUS-7 ONLINE. ENTER GROQ API KEY TO CONNECT. CLICK ðŸŽ™ TO ENABLE VOICE.');
  tick();
  setInterval(tick, 1000);
  loadVoices();
})();

function delay(ms){ return new Promise(r=>setTimeout(r,ms)); }

// â”€â”€ CLOCK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function tick(){
  const n=new Date();
  document.getElementById('clock').textContent=
    [n.getHours(),n.getMinutes(),n.getSeconds()].map(x=>String(x).padStart(2,'0')).join(':');
}

// â”€â”€ CHAT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const chatArea = document.getElementById('chatArea');
const history = [];

function addMsg(role, text, returnDiv=false){
  const d = document.createElement('div');
  d.className = `msg msg-${role}`;
  const labels = { user:'INPUT >', ai:'TERMINUS >', system:'SYS >' };
  d.innerHTML = `<div class="msg-label">${labels[role]||'>'}</div><div class="msg-text">${esc(text)}</div>`;
  chatArea.appendChild(d);
  chatArea.scrollTop = chatArea.scrollHeight;
  return d;
}

function esc(s){ return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n/g,'<br>'); }

// â”€â”€ GROQ API â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function callGroq(userMsg){
  const apiKey = document.getElementById('apiKeyInput').value.trim();
  if(!apiKey){ addMsg('system','ERROR: NO API KEY. ENTER GROQ API KEY IN THE FIELD BELOW.'); return; }

  history.push({role:'user', content:userMsg});
  if(history.length>20) history.splice(0,2);

  // Typing bubble
  const bubble = document.createElement('div');
  bubble.className='msg msg-ai';
  bubble.innerHTML='<div class="msg-label">TERMINUS &gt;</div><div class="msg-text" id="aiText">PROCESSING<span style="animation:blink 1s infinite">â–ˆ</span></div>';
  chatArea.appendChild(bubble);
  chatArea.scrollTop = chatArea.scrollHeight;

  setConn('yellow','PROCESSING...');

  try {
    const res = await fetch('https://api.groq.com/openai/v1/chat/completions',{
      method:'POST',
      headers:{'Authorization':`Bearer ${apiKey}`,'Content-Type':'application/json'},
      body: JSON.stringify({
        model: document.getElementById('modelSelect').value,
        messages:[
          {role:'system', content:'You are TERMINUS-7, a terse but brilliant retro AI assistant. Respond concisely (under 120 words unless more is needed). Be direct and slightly dramatic like a vintage terminal.'},
          ...history
        ],
        temperature:0.75, max_tokens:500
      })
    });

    if(!res.ok){ const e=await res.json(); throw new Error(e.error?.message||res.statusText); }
    const data = await res.json();
    const reply = data.choices[0].message.content;
    history.push({role:'assistant', content:reply});

    bubble.querySelector('#aiText').innerHTML = esc(reply);
    chatArea.scrollTop = chatArea.scrollHeight;
    setConn('green','ONLINE');
    speak(reply);
  } catch(e) {
    bubble.querySelector('#aiText').innerHTML = `ERROR: ${esc(e.message)}`;
    history.pop();
    setConn('red','ERROR');
  }
}

function setConn(color, text){
  const dot = document.getElementById('connDot');
  dot.className = `dot ${color === 'green' ? '' : color}`;
  document.getElementById('connStatus').textContent = text;
}

function sendText(){
  const inp = document.getElementById('textInput');
  const t = inp.value.trim();
  if(!t) return;
  inp.value = '';
  addMsg('user', t);
  callGroq(t);
}

document.getElementById('textInput').addEventListener('keydown', e=>{ if(e.key==='Enter') sendText(); });

document.getElementById('apiKeyInput').addEventListener('input', function(){
  if(this.value.trim()) setConn('green','ONLINE');
  else setConn('red','OFFLINE');
});

// â”€â”€ WAVE VISUALIZER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const canvas = document.getElementById('waveCanvas');
const ctx = canvas.getContext('2d');
let speaking = false, wavePhase = 0, waveAmp = 3, waveTarget = 3;

function resizeCanvas(){
  canvas.width = canvas.offsetWidth * devicePixelRatio;
  canvas.height = canvas.offsetHeight * devicePixelRatio;
  ctx.setTransform(devicePixelRatio, 0, 0, devicePixelRatio, 0, 0);
}
resizeCanvas();
window.addEventListener('resize', resizeCanvas);

(function drawWave(){
  const W=canvas.offsetWidth, H=canvas.offsetHeight;
  ctx.clearRect(0,0,W,H);

  waveAmp += (waveTarget - waveAmp) * 0.08;

  const cy = H/2;
  const lines = 3;

  for(let l=0;l<lines;l++){
    const off = (l-1)*13;
    const alpha = 1 - Math.abs(l-1)*0.38;
    ctx.strokeStyle = `rgba(0,255,65,${alpha})`;
    ctx.lineWidth = l===1 ? 2.5 : 1.5;
    ctx.shadowColor = 'rgba(0,255,65,.9)';
    ctx.shadowBlur = 10;
    ctx.beginPath();

    for(let x=0;x<=W;x++){
      const t = x/W;
      const w =
        Math.sin(t*Math.PI*2*(3.5+l*0.8)+wavePhase+l*.5)*waveAmp*.5+
        Math.sin(t*Math.PI*2*(7+l*1.2)+wavePhase*1.4)*waveAmp*.3+
        Math.sin(t*Math.PI*2*11+wavePhase*.7+l)*waveAmp*.2;
      const y = cy + off + w;
      x===0 ? ctx.moveTo(x,y) : ctx.lineTo(x,y);
    }
    ctx.stroke();
  }
  ctx.shadowBlur=0;

  if(speaking){ waveTarget = 16+Math.random()*10; wavePhase+=.09; }
  else { waveTarget=3; wavePhase+=.012; }

  requestAnimationFrame(drawWave);
})();

// â”€â”€ VOICES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let voices=[];

function loadVoices(){
  const populate=()=>{
    voices = speechSynthesis.getVoices();
    const sel = document.getElementById('voiceSelect');
    sel.innerHTML='';
    if(!voices.length){ sel.innerHTML='<option>NO VOICES</option>'; return; }
    voices.forEach((v,i)=>{
      const o=document.createElement('option');
      o.value=i;
      o.textContent=`${v.name.substring(0,22)} [${v.lang}]`;
      sel.appendChild(o);
    });
    // Prefer English Google voice
    let best = voices.findIndex(v=>v.lang.startsWith('en')&&v.name.toLowerCase().includes('google'));
    if(best<0) best = voices.findIndex(v=>v.lang.startsWith('en'));
    if(best>=0) sel.value=best;
  };
  populate();
  speechSynthesis.onvoiceschanged=populate;
}

function speak(text){
  speechSynthesis.cancel();
  const u=new SpeechSynthesisUtterance(text);
  const vi=parseInt(document.getElementById('voiceSelect').value);
  if(!isNaN(vi)&&voices[vi]) u.voice=voices[vi];
  u.rate=1; u.pitch=1;
  u.onstart=()=>speaking=true;
  u.onend=u.onerror=()=>{
    speaking=false;
    if(listenEnabled) setTimeout(startListening,700);
  };
  // Pause recognition while TTS plays
  if(recognition&&isListening){ try{recognition.abort();}catch(e){} }
  speechSynthesis.speak(u);
}

// â”€â”€ SPEECH RECOGNITION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const SR = window.SpeechRecognition||window.webkitSpeechRecognition;
let recognition=null, isListening=false, listenEnabled=false;

function setupRec(){
  if(!SR){ addMsg('system','âš  SPEECH RECOGNITION UNAVAILABLE. USE CHROME OR EDGE.'); return false; }
  recognition=new SR();
  recognition.continuous=false;
  recognition.interimResults=true;
  recognition.lang='en-US';

  recognition.onstart=()=>{
    isListening=true;
    document.getElementById('micBars').classList.remove('hidden');
    document.getElementById('listenLabel').textContent='LISTENING...';
    document.getElementById('micStatus').textContent='MIC: ACTIVE';
  };

  recognition.onend=()=>{
    isListening=false;
    document.getElementById('micBars').classList.add('hidden');
    document.getElementById('listenLabel').textContent='';
    document.getElementById('micStatus').textContent='MIC: STANDBY';
    if(listenEnabled&&!speaking) setTimeout(startListening,400);
  };

  recognition.onresult=e=>{
    const last=e.results[e.results.length-1];
    const t=last[0].transcript.trim();
    if(last.isFinal&&t.length>1){
      speechSynthesis.cancel(); speaking=false;
      addMsg('user',t);
      callGroq(t);
    } else {
      document.getElementById('listenLabel').textContent=`HEARING: "${t}"`;
    }
  };

  recognition.onerror=e=>{
    if(e.error!=='aborted'&&e.error!=='no-speech')
      document.getElementById('listenLabel').textContent=`MIC ERR: ${e.error}`;
  };
  return true;
}

function startListening(){
  if(!recognition&&!setupRec()) return;
  if(!isListening){ try{recognition.start();}catch(e){} }
}

function toggleListen(){
  const btn=document.getElementById('listenBtn');
  if(!listenEnabled){
    listenEnabled=true;
    btn.textContent='ðŸŽ™ LISTEN: ON'; btn.classList.add('active');
    document.getElementById('micStatus').textContent='MIC: STANDBY';
    addMsg('system','VOICE MODE ACTIVE. SPEAK YOUR QUERY AFTER THE TONE. BEEP.');
    startListening();
  } else {
    listenEnabled=false;
    if(recognition&&isListening){ try{recognition.abort();}catch(e){} }
    btn.textContent='ðŸŽ™ LISTEN: OFF'; btn.classList.remove('active');
    document.getElementById('micStatus').textContent='MIC: OFF';
    document.getElementById('micBars').classList.add('hidden');
    document.getElementById('listenLabel').textContent='';
    addMsg('system','VOICE MODE DEACTIVATED.');
  }
}
</script>
</body>
</html>
